import{e as Y,m as Ne,h as _,U as Ie,k as $,f as b,A as W,v as at,R as lt,q as X,af as rt,a5 as Z,J as nt,ag as ot,ah as ie,ai as ge,aj as Pe,x as le,ak as he,l as Re,K as ut,al as st,g as ee,am as Le,i as it,j as ye,an as Me,F as Oe,B as dt,ao as ct,ap as vt,aq as pt,ar as mt,a8 as Qe,P as ft,as as _t,at as gt,a2 as ht,au as yt,V as Ue,$ as K,ac as bt,o as O,av as re,d as S,a as h,_ as me,W as St,N as ne,c as te,aw as oe,w as N,Y as Ve}from"./index.72b74f6b.js";import{c as qt,b as kt,h as $e,Q as Ee}from"./QSelect.27372468.js";import{u as ue,Q as wt,b as xt,a as de}from"./axios.1562a4a6.js";import{Q as ce}from"./prevent-scroll.e5f540d1.js";import{u as He,a as Ke}from"./use-dark.d9f79254.js";import{Q as j}from"./QInput.e2d496c4.js";import"./QItem.f6b9adf1.js";import"./QItemLabel.b5cd3164.js";import"./rtl.49e07ec0.js";import"./use-timeout.c4e98ea7.js";import"./scroll.7d6d8e83.js";import"./uid.42677368.js";var Ct=Y({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:t,emit:a}){let o=!1,s,n,i=null,u=null,l,x;function y(){s&&s(),s=null,o=!1,i!==null&&(clearTimeout(i),i=null),u!==null&&(clearTimeout(u),u=null),n!==void 0&&n.removeEventListener("transitionend",l),l=null}function C(m,v,f){v!==void 0&&(m.style.height=`${v}px`),m.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,o=!0,s=f}function k(m,v){m.style.overflowY=null,m.style.height=null,m.style.transition=null,y(),v!==x&&a(v)}function w(m,v){let f=0;n=m,o===!0?(y(),f=m.offsetHeight===m.scrollHeight?0:void 0):(x="hide",m.style.overflowY="hidden"),C(m,f,v),i=setTimeout(()=>{i=null,m.style.height=`${m.scrollHeight}px`,l=d=>{u=null,(Object(d)!==d||d.target===m)&&k(m,"show")},m.addEventListener("transitionend",l),u=setTimeout(l,e.duration*1.1)},100)}function r(m,v){let f;n=m,o===!0?y():(x="show",m.style.overflowY="hidden",f=m.scrollHeight),C(m,f,v),i=setTimeout(()=>{i=null,m.style.height=0,l=d=>{u=null,(Object(d)!==d||d.target===m)&&k(m,"hide")},m.addEventListener("transitionend",l),u=setTimeout(l,e.duration*1.1)},100)}return Ne(()=>{o===!0&&y()}),()=>_(Ie,{css:!1,appear:e.appear,onEnter:w,onLeave:r},t.default)}}),We=Y({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(e,{attrs:t}){const{proxy:{$q:a}}=X(),o=$(null),s=b(()=>e.stepper.modelValue===e.step.name),n=b(()=>{const v=e.step.disable;return v===!0||v===""}),i=b(()=>{const v=e.step.error;return v===!0||v===""}),u=b(()=>{const v=e.step.done;return n.value===!1&&(v===!0||v==="")}),l=b(()=>{const v=e.step.headerNav,f=v===!0||v===""||v===void 0;return n.value===!1&&e.stepper.headerNav&&f}),x=b(()=>e.step.prefix&&(s.value===!1||e.stepper.activeIcon==="none")&&(i.value===!1||e.stepper.errorIcon==="none")&&(u.value===!1||e.stepper.doneIcon==="none")),y=b(()=>{const v=e.step.icon||e.stepper.inactiveIcon;if(s.value===!0){const f=e.step.activeIcon||e.stepper.activeIcon;return f==="none"?v:f||a.iconSet.stepper.active}if(i.value===!0){const f=e.step.errorIcon||e.stepper.errorIcon;return f==="none"?v:f||a.iconSet.stepper.error}if(n.value===!1&&u.value===!0){const f=e.step.doneIcon||e.stepper.doneIcon;return f==="none"?v:f||a.iconSet.stepper.done}return v}),C=b(()=>{const v=i.value===!0?e.step.errorColor||e.stepper.errorColor:void 0;if(s.value===!0){const f=e.step.activeColor||e.stepper.activeColor||e.step.color;return f!==void 0?f:v}return v!==void 0?v:n.value===!1&&u.value===!0?e.step.doneColor||e.stepper.doneColor||e.step.color||e.stepper.inactiveColor:e.step.color||e.stepper.inactiveColor}),k=b(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(C.value!==void 0?` text-${C.value}`:"")+(i.value===!0?" q-stepper__tab--error q-stepper__tab--error-with-"+(x.value===!0?"prefix":"icon"):"")+(s.value===!0?" q-stepper__tab--active":"")+(u.value===!0?" q-stepper__tab--done":"")+(l.value===!0?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(n.value===!0?" q-stepper__tab--disabled":"")),w=b(()=>e.stepper.headerNav!==!0?!1:l.value);function r(){o.value!==null&&o.value.focus(),s.value===!1&&e.goToPanel(e.step.name)}function m(v){v.keyCode===13&&s.value===!1&&e.goToPanel(e.step.name)}return()=>{const v={class:k.value};l.value===!0&&(v.onClick=r,v.onKeyup=m,Object.assign(v,n.value===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:t.tabindex||0}));const f=[_("div",{class:"q-focus-helper",tabindex:-1,ref:o}),_("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[_("span",{class:"row flex-center"},[x.value===!0?e.step.prefix:_(W,{name:y.value})])])];if(e.step.title!==void 0&&e.step.title!==null){const d=[_("div",{class:"q-stepper__title"},e.step.title)];e.step.caption!==void 0&&e.step.caption!==null&&d.push(_("div",{class:"q-stepper__caption"},e.step.caption)),f.push(_("div",{class:"q-stepper__label q-stepper__line relative-position"},d))}return at(_("div",v,f),[[lt,w.value]])}}});const Se={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},Ft=Object.keys(Se);Se.all=!0;function Be(e){const t={};for(const a of Ft)e[a]===!0&&(t[a]=!0);return Object.keys(t).length===0?Se:(t.horizontal===!0?t.left=t.right=!0:t.left===!0&&t.right===!0&&(t.horizontal=!0),t.vertical===!0?t.up=t.down=!0:t.up===!0&&t.down===!0&&(t.vertical=!0),t.horizontal===!0&&t.vertical===!0&&(t.all=!0),t)}const zt=["INPUT","TEXTAREA"];function je(e,t){return t.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof t.handler=="function"&&zt.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(t.uid)===-1)}function Pt(e){const t=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((a,o)=>{const s=parseFloat(a);s&&(t[o]=s)}),t}var Ut=rt({name:"touch-swipe",beforeMount(e,{value:t,arg:a,modifiers:o}){if(o.mouse!==!0&&Z.has.touch!==!0)return;const s=o.mouseCapture===!0?"Capture":"",n={handler:t,sensitivity:Pt(a),direction:Be(o),noop:nt,mouseStart(i){je(i,n)&&ot(i)&&(ie(n,"temp",[[document,"mousemove","move",`notPassive${s}`],[document,"mouseup","end","notPassiveCapture"]]),n.start(i,!0))},touchStart(i){if(je(i,n)){const u=i.target;ie(n,"temp",[[u,"touchmove","move","notPassiveCapture"],[u,"touchcancel","end","notPassiveCapture"],[u,"touchend","end","notPassiveCapture"]]),n.start(i)}},start(i,u){Z.is.firefox===!0&&ge(e,!0);const l=Pe(i);n.event={x:l.left,y:l.top,time:Date.now(),mouse:u===!0,dir:!1}},move(i){if(n.event===void 0)return;if(n.event.dir!==!1){le(i);return}const u=Date.now()-n.event.time;if(u===0)return;const l=Pe(i),x=l.left-n.event.x,y=Math.abs(x),C=l.top-n.event.y,k=Math.abs(C);if(n.event.mouse!==!0){if(y<n.sensitivity[1]&&k<n.sensitivity[1]){n.end(i);return}}else if(window.getSelection().toString()!==""){n.end(i);return}else if(y<n.sensitivity[2]&&k<n.sensitivity[2])return;const w=y/u,r=k/u;n.direction.vertical===!0&&y<k&&y<100&&r>n.sensitivity[0]&&(n.event.dir=C<0?"up":"down"),n.direction.horizontal===!0&&y>k&&k<100&&w>n.sensitivity[0]&&(n.event.dir=x<0?"left":"right"),n.direction.up===!0&&y<k&&C<0&&y<100&&r>n.sensitivity[0]&&(n.event.dir="up"),n.direction.down===!0&&y<k&&C>0&&y<100&&r>n.sensitivity[0]&&(n.event.dir="down"),n.direction.left===!0&&y>k&&x<0&&k<100&&w>n.sensitivity[0]&&(n.event.dir="left"),n.direction.right===!0&&y>k&&x>0&&k<100&&w>n.sensitivity[0]&&(n.event.dir="right"),n.event.dir!==!1?(le(i),n.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),qt(),n.styleCleanup=m=>{n.styleCleanup=void 0,document.body.classList.remove("non-selectable");const v=()=>{document.body.classList.remove("no-pointer-events--children")};m===!0?setTimeout(v,50):v()}),n.handler({evt:i,touch:n.event.mouse!==!0,mouse:n.event.mouse,direction:n.event.dir,duration:u,distance:{x:y,y:k}})):n.end(i)},end(i){n.event!==void 0&&(he(n,"temp"),Z.is.firefox===!0&&ge(e,!1),n.styleCleanup!==void 0&&n.styleCleanup(!0),i!==void 0&&n.event.dir!==!1&&le(i),n.event=void 0)}};if(e.__qtouchswipe=n,o.mouse===!0){const i=o.mouseCapture===!0||o.mousecapture===!0?"Capture":"";ie(n,"main",[[e,"mousedown","mouseStart",`passive${i}`]])}Z.has.touch===!0&&ie(n,"main",[[e,"touchstart","touchStart",`passive${o.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const a=e.__qtouchswipe;a!==void 0&&(t.oldValue!==t.value&&(typeof t.value!="function"&&a.end(),a.handler=t.value),a.direction=Be(t.modifiers))},beforeUnmount(e){const t=e.__qtouchswipe;t!==void 0&&(he(t,"main"),he(t,"temp"),Z.is.firefox===!0&&ge(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchswipe)}});function Ye(){let e=Object.create(null);return{getCache:(t,a)=>e[t]===void 0?e[t]=typeof a=="function"?a():a:e[t],setCache(t,a){e[t]=a},hasCache(t){return e.hasOwnProperty(t)},clearCache(t){t!==void 0?delete e[t]:e={}}}}const Vt={name:{required:!0},disable:Boolean},Te={setup(e,{slots:t}){return()=>_("div",{class:"q-panel scroll",role:"tabpanel"},ee(t.default))}},$t={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Et=["update:modelValue","beforeTransition","transition"];function Bt(){const{props:e,emit:t,proxy:a}=X(),{getCache:o}=Ye();let s,n;const i=$(null),u=$(null);function l(q){const P=e.vertical===!0?"up":"left";g((a.$q.lang.rtl===!0?-1:1)*(q.direction===P?1:-1))}const x=b(()=>[[Ut,l,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),y=b(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),C=b(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),k=b(()=>`--q-transition-duration: ${e.transitionDuration}ms`),w=b(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),r=b(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),m=b(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);Re(()=>e.modelValue,(q,P)=>{const T=B(q)===!0?I(q):-1;n!==!0&&c(T===-1?0:T<I(P)?-1:1),i.value!==T&&(i.value=T,t("beforeTransition",q,P),ut(()=>{t("transition",q,P)}))});function v(){g(1)}function f(){g(-1)}function d(q){t("update:modelValue",q)}function B(q){return q!=null&&q!==""}function I(q){return s.findIndex(P=>P.props.name===q&&P.props.disable!==""&&P.props.disable!==!0)}function L(){return s.filter(q=>q.props.disable!==""&&q.props.disable!==!0)}function c(q){const P=q!==0&&e.animated===!0&&i.value!==-1?"q-transition--"+(q===-1?y.value:C.value):null;u.value!==P&&(u.value=P)}function g(q,P=i.value){let T=P+q;for(;T!==-1&&T<s.length;){const A=s[T];if(A!==void 0&&A.props.disable!==""&&A.props.disable!==!0){c(q),n=!0,t("update:modelValue",A.props.name),setTimeout(()=>{n=!1});return}T+=q}e.infinite===!0&&s.length!==0&&P!==-1&&P!==s.length&&g(q,q===-1?s.length:-1)}function V(){const q=I(e.modelValue);return i.value!==q&&(i.value=q),!0}function z(){const q=B(e.modelValue)===!0&&V()&&s[i.value];return e.keepAlive===!0?[_(Le,r.value,[_(m.value===!0?o(w.value,()=>({...Te,name:w.value})):Te,{key:w.value,style:k.value},()=>q)])]:[_("div",{class:"q-panel scroll",style:k.value,key:w.value,role:"tabpanel"},[q])]}function E(){if(s.length!==0)return e.animated===!0?[_(Ie,{name:u.value},z)]:z()}function M(q){return s=st(ee(q.default,[])).filter(P=>P.props!==null&&P.props.slot===void 0&&B(P.props.name)===!0),s.length}function F(){return s}return Object.assign(a,{next:v,previous:f,goTo:d}),{panelIndex:i,panelDirectives:x,updatePanelsList:M,updatePanelIndex:V,getPanelContent:E,getEnabledPanels:L,getPanels:F,isValidPanelName:B,keepAliveProps:r,needsUniqueKeepAliveWrapper:m,goToPanelByOffset:g,goToPanel:d,nextPanel:v,previousPanel:f}}function Xe(e){return _("div",{class:"q-stepper__step-content"},[_("div",{class:"q-stepper__step-inner"},ee(e.default))])}const Ae={setup(e,{slots:t}){return()=>Xe(t)}};var ve=Y({name:"QStep",props:{...Vt,icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean,onScroll:[Function,Array]},setup(e,{slots:t,emit:a}){const{proxy:{$q:o}}=X(),s=it(Me,ye);if(s===ye)return console.error("QStep needs to be a child of QStepper"),ye;const{getCache:n}=Ye(),i=$(null),u=b(()=>s.value.modelValue===e.name),l=b(()=>o.platform.is.ios!==!0&&o.platform.is.chrome===!0||u.value!==!0||s.value.vertical!==!0?{}:{onScroll(C){const{target:k}=C;k.scrollTop>0&&(k.scrollTop=0),e.onScroll!==void 0&&a("scroll",C)}}),x=b(()=>typeof e.name=="string"||typeof e.name=="number"?e.name:String(e.name));function y(){const C=s.value.vertical;return C===!0&&s.value.keepAlive===!0?_(Le,s.value.keepAliveProps.value,u.value===!0?[_(s.value.needsUniqueKeepAliveWrapper.value===!0?n(x.value,()=>({...Ae,name:x.value})):Ae,{key:x.value},t.default)]:void 0):C!==!0||u.value===!0?Xe(t):void 0}return()=>_("div",{ref:i,class:"q-stepper__step",role:"tabpanel",...l.value},s.value.vertical===!0?[_(We,{stepper:s.value,step:e,goToPanel:s.value.goToPanel}),s.value.animated===!0?_(Ct,y):y()]:[y()])}}),jt=Y({name:"QStepperNavigation",setup(e,{slots:t}){return()=>_("div",{class:"q-stepper__nav"},ee(t.default))}});const Tt=/(-\w)/g;function At(e){const t={};for(const a in e){const o=a.replace(Tt,s=>s[1].toUpperCase());t[o]=e[a]}return t}var Dt=Y({name:"QStepper",props:{...He,...$t,flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String},emits:Et,setup(e,{slots:t}){const a=X(),o=Ke(e,a.proxy.$q),{updatePanelsList:s,isValidPanelName:n,updatePanelIndex:i,getPanelContent:u,getPanels:l,panelDirectives:x,goToPanel:y,keepAliveProps:C,needsUniqueKeepAliveWrapper:k}=Bt();Oe(Me,b(()=>({goToPanel:y,keepAliveProps:C,needsUniqueKeepAliveWrapper:k,...e})));const w=b(()=>`q-stepper q-stepper--${e.vertical===!0?"vertical":"horizontal"}`+(e.flat===!0?" q-stepper--flat":"")+(e.bordered===!0?" q-stepper--bordered":"")+(o.value===!0?" q-stepper--dark q-dark":"")),r=b(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${e.alternativeLabels===!0?"alternative":"standard"}-labels`+(e.flat===!1||e.bordered===!0?" q-stepper__header--border":"")+(e.contracted===!0?" q-stepper__header--contracted":"")+(e.headerClass!==void 0?` ${e.headerClass}`:""));function m(){const v=ee(t.message,[]);if(e.vertical===!0){n(e.modelValue)&&i();const f=_("div",{class:"q-stepper__content"},ee(t.default));return v===void 0?[f]:v.concat(f)}return[_("div",{class:r.value},l().map(f=>{const d=At(f.props);return _(We,{key:d.name,stepper:e,step:d,goToPanel:y})})),v,ct("div",{class:"q-stepper__content q-panel-parent"},u(),"cont",e.swipeable,()=>x.value)]}return()=>(s(t),_("div",{class:w.value},dt(t.navigation,m())))}});const Nt={...vt,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},be=50,Ge=2*be,Je=Ge*Math.PI,It=Math.round(Je*1e3)/1e3;var Rt=Y({name:"QCircularProgress",props:{...Nt,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:t}){const{proxy:{$q:a}}=X(),o=pt(e),s=b(()=>{const w=(a.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(a.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-w}deg)`:`rotate3d(0, 0, 1, ${w-90}deg)`}}),n=b(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),i=b(()=>Ge/(1-e.thickness/2)),u=b(()=>`${i.value/2} ${i.value/2} ${i.value} ${i.value}`),l=b(()=>kt(e.value,e.min,e.max)),x=b(()=>e.max-e.min),y=b(()=>e.thickness/2*i.value),C=b(()=>{const w=(e.max-l.value)/x.value,r=e.rounded===!0&&l.value<e.max&&w<.25?y.value/2*(1-w/.25):0;return Je*w+r});function k({thickness:w,offset:r,color:m,cls:v,rounded:f}){return _("circle",{class:"q-circular-progress__"+v+(m!==void 0?` text-${m}`:""),style:n.value,fill:"transparent",stroke:"currentColor","stroke-width":w,"stroke-dasharray":It,"stroke-dashoffset":r,"stroke-linecap":f,cx:i.value,cy:i.value,r:be})}return()=>{const w=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&w.push(_("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:be-y.value/2,cx:i.value,cy:i.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&w.push(k({cls:"track",thickness:y.value,offset:0,color:e.trackColor})),w.push(k({cls:"circle",thickness:y.value,offset:C.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const r=[_("svg",{class:"q-circular-progress__svg",style:s.value,viewBox:u.value,"aria-hidden":"true"},w)];return e.showValue===!0&&r.push(_("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},t.default!==void 0?t.default():[_("div",l.value)])),_("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:o.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:l.value},mt(t.internal,r))}}});function J(e,t,a,o){const s=[];return e.forEach(n=>{o(n)===!0?s.push(n):t.push({failedPropValidation:a,file:n})}),s}function pe(e){e&&e.dataTransfer&&(e.dataTransfer.dropEffect="copy"),le(e)}const Lt={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},Mt=["rejected"];function Ot({editable:e,dnd:t,getFileInput:a,addFilesToQueue:o}){const{props:s,emit:n,proxy:i}=X(),u=$(null),l=b(()=>s.accept!==void 0?s.accept.split(",").map(d=>(d=d.trim(),d==="*"?"*/":(d.endsWith("/*")&&(d=d.slice(0,d.length-1)),d.toUpperCase()))):null),x=b(()=>parseInt(s.maxFiles,10)),y=b(()=>parseInt(s.maxTotalSize,10));function C(d){if(e.value)if(d!==Object(d)&&(d={target:null}),d.target!==null&&d.target.matches('input[type="file"]')===!0)d.clientX===0&&d.clientY===0&&Qe(d);else{const B=a();B&&B!==d.target&&B.click(d)}}function k(d){e.value&&d&&o(null,d)}function w(d,B,I,L){let c=Array.from(B||d.target.files);const g=[],V=()=>{g.length!==0&&n("rejected",g)};if(s.accept!==void 0&&l.value.indexOf("*/")===-1&&(c=J(c,g,"accept",z=>l.value.some(E=>z.type.toUpperCase().startsWith(E)||z.name.toUpperCase().endsWith(E))),c.length===0))return V();if(s.maxFileSize!==void 0){const z=parseInt(s.maxFileSize,10);if(c=J(c,g,"max-file-size",E=>E.size<=z),c.length===0)return V()}if(s.multiple!==!0&&c.length!==0&&(c=[c[0]]),c.forEach(z=>{z.__key=z.webkitRelativePath+z.lastModified+z.name+z.size}),L===!0){const z=I.map(E=>E.__key);c=J(c,g,"duplicate",E=>z.includes(E.__key)===!1)}if(c.length===0)return V();if(s.maxTotalSize!==void 0){let z=L===!0?I.reduce((E,M)=>E+M.size,0):0;if(c=J(c,g,"max-total-size",E=>(z+=E.size,z<=y.value)),c.length===0)return V()}if(typeof s.filter=="function"){const z=s.filter(c);c=J(c,g,"filter",E=>z.includes(E))}if(s.maxFiles!==void 0){let z=L===!0?I.length:0;if(c=J(c,g,"max-files",()=>(z++,z<=x.value)),c.length===0)return V()}if(V(),c.length!==0)return c}function r(d){pe(d),t.value!==!0&&(t.value=!0)}function m(d){le(d),(d.relatedTarget!==null||Z.is.safari!==!0?d.relatedTarget!==u.value:document.elementsFromPoint(d.clientX,d.clientY).includes(u.value)===!1)===!0&&(t.value=!1)}function v(d){pe(d);const B=d.dataTransfer.files;B.length!==0&&o(null,B),t.value=!1}function f(d){if(t.value===!0)return _("div",{ref:u,class:`q-${d}__dnd absolute-full`,onDragenter:pe,onDragover:pe,onDragleave:m,onDrop:v})}return Object.assign(i,{pickFiles:C,addFiles:k}),{pickFiles:C,addFiles:k,onDragover:r,onDragleave:m,processFiles:w,getDndNode:f,maxFilesNumber:x,maxTotalSizeNumber:y}}function De(e){return(e*100).toFixed(2)+"%"}const Qt={...He,...Lt,label:String,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,noThumbnails:Boolean,autoUpload:Boolean,hideUploadBtn:Boolean,disable:Boolean,readonly:Boolean},Ze=[...Mt,"start","finish","added","removed"];function Ht(e,t){const a=X(),{props:o,slots:s,emit:n,proxy:i}=a,{$q:u}=i,l=Ke(o,u);function x(p,U,D){if(p.__status=U,U==="idle"){p.__uploaded=0,p.__progress=0,p.__sizeLabel=$e(p.size),p.__progressLabel="0.00%";return}if(U==="failed"){i.$forceUpdate();return}p.__uploaded=U==="uploaded"?p.size:D,p.__progress=U==="uploaded"?1:Math.min(.9999,p.__uploaded/p.size),p.__progressLabel=De(p.__progress),i.$forceUpdate()}const y=b(()=>o.disable!==!0&&o.readonly!==!0),C=$(!1),k=$(null),w=$(null),r={files:$([]),queuedFiles:$([]),uploadedFiles:$([]),uploadedSize:$(0),updateFileStatus:x,isAlive:()=>ft(a)===!1},{pickFiles:m,addFiles:v,onDragover:f,onDragleave:d,processFiles:B,getDndNode:I,maxFilesNumber:L,maxTotalSizeNumber:c}=Ot({editable:y,dnd:C,getFileInput:we,addFilesToQueue:xe});Object.assign(r,e({props:o,slots:s,emit:n,helpers:r,exposeApi:p=>{Object.assign(r,p)}})),r.isBusy===void 0&&(r.isBusy=$(!1));const g=$(0),V=b(()=>g.value===0?0:r.uploadedSize.value/g.value),z=b(()=>De(V.value)),E=b(()=>$e(g.value)),M=b(()=>y.value===!0&&r.isUploading.value!==!0&&(o.multiple===!0||r.queuedFiles.value.length===0)&&(o.maxFiles===void 0||r.files.value.length<L.value)&&(o.maxTotalSize===void 0||g.value<c.value)),F=b(()=>y.value===!0&&r.isBusy.value!==!0&&r.isUploading.value!==!0&&r.queuedFiles.value.length!==0);Oe(_t,Fe);const q=b(()=>"q-uploader column no-wrap"+(l.value===!0?" q-uploader--dark q-dark":"")+(o.bordered===!0?" q-uploader--bordered":"")+(o.square===!0?" q-uploader--square no-border-radius":"")+(o.flat===!0?" q-uploader--flat no-shadow":"")+(o.disable===!0?" disabled q-uploader--disable":"")+(C.value===!0?" q-uploader--dnd":"")),P=b(()=>"q-uploader__header"+(o.color!==void 0?` bg-${o.color}`:"")+(o.textColor!==void 0?` text-${o.textColor}`:""));Re(r.isUploading,(p,U)=>{U===!1&&p===!0?n("start"):U===!0&&p===!1&&n("finish")});function T(){o.disable===!1&&(r.abort(),r.uploadedSize.value=0,g.value=0,ke(),r.files.value=[],r.queuedFiles.value=[],r.uploadedFiles.value=[])}function A(){o.disable===!1&&qe(["uploaded"],()=>{r.uploadedFiles.value=[]})}function se(){qe(["idle","failed"],({size:p})=>{g.value-=p,r.queuedFiles.value=[]})}function qe(p,U){if(o.disable===!0)return;const D={files:[],size:0},Q=r.files.value.filter(R=>p.indexOf(R.__status)===-1?!0:(D.size+=R.size,D.files.push(R),R.__img!==void 0&&window.URL.revokeObjectURL(R.__img.src),!1));D.files.length!==0&&(r.files.value=Q,U(D),n("removed",D.files))}function _e(p){o.disable||(p.__status==="uploaded"?r.uploadedFiles.value=r.uploadedFiles.value.filter(U=>U.__key!==p.__key):p.__status==="uploading"?p.__abort():g.value-=p.size,r.files.value=r.files.value.filter(U=>U.__key!==p.__key?!0:(U.__img!==void 0&&window.URL.revokeObjectURL(U.__img.src),!1)),r.queuedFiles.value=r.queuedFiles.value.filter(U=>U.__key!==p.__key),n("removed",[p]))}function ke(){r.files.value.forEach(p=>{p.__img!==void 0&&window.URL.revokeObjectURL(p.__img.src)})}function we(){return w.value||k.value.getElementsByClassName("q-uploader__input")[0]}function xe(p,U){const D=B(p,U,r.files.value,!0),Q=we();Q!=null&&(Q.value=""),D!==void 0&&(D.forEach(R=>{if(r.updateFileStatus(R,"idle"),g.value+=R.size,o.noThumbnails!==!0&&R.type.toUpperCase().startsWith("IMAGE")){const ze=new Image;ze.src=window.URL.createObjectURL(R),R.__img=ze}}),r.files.value=r.files.value.concat(D),r.queuedFiles.value=r.queuedFiles.value.concat(D),n("added",D),o.autoUpload===!0&&r.upload())}function Ce(){F.value===!0&&r.upload()}function ae(p,U,D){if(p===!0){const Q={type:"a",key:U,icon:u.iconSet.uploader[U],flat:!0,dense:!0};let R;return U==="add"?(Q.onClick=m,R=Fe):Q.onClick=D,_(K,Q,R)}}function Fe(){return _("input",{ref:w,class:"q-uploader__input overflow-hidden absolute-full",tabindex:-1,type:"file",title:"",accept:o.accept,multiple:o.multiple===!0?"multiple":void 0,capture:o.capture,onMousedown:Qe,onClick:m,onChange:xe})}function et(){return s.header!==void 0?s.header(G):[_("div",{class:"q-uploader__header-content column"},[_("div",{class:"flex flex-center no-wrap q-gutter-xs"},[ae(r.queuedFiles.value.length!==0,"removeQueue",se),ae(r.uploadedFiles.value.length!==0,"removeUploaded",A),r.isUploading.value===!0?_(Ue,{class:"q-uploader__spinner"}):null,_("div",{class:"col column justify-center"},[o.label!==void 0?_("div",{class:"q-uploader__title"},[o.label]):null,_("div",{class:"q-uploader__subtitle"},[E.value+" / "+z.value])]),ae(M.value,"add"),ae(o.hideUploadBtn===!1&&F.value===!0,"upload",r.upload),ae(r.isUploading.value,"clear",r.abort)])])]}function tt(){return s.list!==void 0?s.list(G):r.files.value.map(p=>_("div",{key:p.__key,class:"q-uploader__file relative-position"+(o.noThumbnails!==!0&&p.__img!==void 0?" q-uploader__file--img":"")+(p.__status==="failed"?" q-uploader__file--failed":p.__status==="uploaded"?" q-uploader__file--uploaded":""),style:o.noThumbnails!==!0&&p.__img!==void 0?{backgroundImage:'url("'+p.__img.src+'")'}:null},[_("div",{class:"q-uploader__file-header row flex-center no-wrap"},[p.__status==="failed"?_(W,{class:"q-uploader__file-status",name:u.iconSet.type.negative,color:"negative"}):null,_("div",{class:"q-uploader__file-header-content col"},[_("div",{class:"q-uploader__title"},[p.name]),_("div",{class:"q-uploader__subtitle row items-center no-wrap"},[p.__sizeLabel+" / "+p.__progressLabel])]),p.__status==="uploading"?_(Rt,{value:p.__progress,min:0,max:1,indeterminate:p.__progress===0}):_(K,{round:!0,dense:!0,flat:!0,icon:u.iconSet.uploader[p.__status==="uploaded"?"done":"clear"],onClick:()=>{_e(p)}})])]))}Ne(()=>{r.isUploading.value===!0&&r.abort(),r.files.value.length!==0&&ke()});const G={};for(const p in r)gt(r[p])===!0?ht(G,p,()=>r[p].value):G[p]=r[p];return Object.assign(G,{upload:Ce,reset:T,removeUploadedFiles:A,removeQueuedFiles:se,removeFile:_e,pickFiles:m,addFiles:v}),yt(G,{canAddFiles:()=>M.value,canUpload:()=>F.value,uploadSizeLabel:()=>E.value,uploadProgressLabel:()=>z.value}),t({...r,upload:Ce,reset:T,removeUploadedFiles:A,removeQueuedFiles:se,removeFile:_e,pickFiles:m,addFiles:v,canAddFiles:M,canUpload:F,uploadSizeLabel:E,uploadProgressLabel:z}),()=>{const p=[_("div",{class:P.value},et()),_("div",{class:"q-uploader__list scroll"},tt()),I("uploader")];r.isBusy.value===!0&&p.push(_("div",{class:"q-uploader__overlay absolute-full flex flex-center"},[_(Ue)]));const U={ref:k,class:q.value};return M.value===!0&&Object.assign(U,{onDragover:f,onDragleave:d}),_("div",U,p)}}const Kt=()=>!0;function Wt(e){const t={};return e.forEach(a=>{t[a]=Kt}),t}const Yt=Wt(Ze);var Xt=({name:e,props:t,emits:a,injectPlugin:o})=>Y({name:e,props:{...Qt,...t},emits:bt(a)===!0?{...Yt,...a}:[...Ze,...a],setup(s,{expose:n}){return Ht(o,n)}});function H(e){return typeof e=="function"?e:()=>e}const Gt={url:[Function,String],method:{type:[Function,String],default:"POST"},fieldName:{type:[Function,String],default:()=>e=>e.name},headers:[Function,Array],formFields:[Function,Array],withCredentials:[Function,Boolean],sendRaw:[Function,Boolean],batch:[Function,Boolean],factory:Function},Jt=["factoryFailed","uploaded","failed","uploading"];function Zt({props:e,emit:t,helpers:a}){const o=$([]),s=$([]),n=$(0),i=b(()=>({url:H(e.url),method:H(e.method),headers:H(e.headers),formFields:H(e.formFields),fieldName:H(e.fieldName),withCredentials:H(e.withCredentials),sendRaw:H(e.sendRaw),batch:H(e.batch)})),u=b(()=>n.value>0),l=b(()=>s.value.length!==0);let x;function y(){o.value.forEach(r=>{r.abort()}),s.value.length!==0&&(x=!0)}function C(){const r=a.queuedFiles.value.slice(0);a.queuedFiles.value=[],i.value.batch(r)?k(r):r.forEach(m=>{k([m])})}function k(r){if(n.value++,typeof e.factory!="function"){w(r,{});return}const m=e.factory(r);if(!m)t("factoryFailed",new Error("QUploader: factory() does not return properly"),r),n.value--;else if(typeof m.catch=="function"&&typeof m.then=="function"){s.value.push(m);const v=f=>{a.isAlive()===!0&&(s.value=s.value.filter(d=>d!==m),s.value.length===0&&(x=!1),a.queuedFiles.value=a.queuedFiles.value.concat(r),r.forEach(d=>{a.updateFileStatus(d,"failed")}),t("factoryFailed",f,r),n.value--)};m.then(f=>{x===!0?v(new Error("Aborted")):a.isAlive()===!0&&(s.value=s.value.filter(d=>d!==m),w(r,f))}).catch(v)}else w(r,m||{})}function w(r,m){const v=new FormData,f=new XMLHttpRequest,d=(F,q)=>m[F]!==void 0?H(m[F])(q):i.value[F](q),B=d("url",r);if(!B){console.error("q-uploader: invalid or no URL specified"),n.value--;return}const I=d("formFields",r);I!==void 0&&I.forEach(F=>{v.append(F.name,F.value)});let L=0,c=0,g=0,V=0,z;f.upload.addEventListener("progress",F=>{if(z===!0)return;const q=Math.min(V,F.loaded);a.uploadedSize.value+=q-g,g=q;let P=g-c;for(let T=L;P>0&&T<r.length;T++){const A=r[T];if(P>A.size)P-=A.size,L++,c+=A.size,a.updateFileStatus(A,"uploading",A.size);else{a.updateFileStatus(A,"uploading",P);return}}},!1),f.onreadystatechange=()=>{f.readyState<4||(f.status&&f.status<400?(a.uploadedFiles.value=a.uploadedFiles.value.concat(r),r.forEach(F=>{a.updateFileStatus(F,"uploaded")}),t("uploaded",{files:r,xhr:f})):(z=!0,a.uploadedSize.value-=g,a.queuedFiles.value=a.queuedFiles.value.concat(r),r.forEach(F=>{a.updateFileStatus(F,"failed")}),t("failed",{files:r,xhr:f})),n.value--,o.value=o.value.filter(F=>F!==f))},f.open(d("method",r),B),d("withCredentials",r)===!0&&(f.withCredentials=!0);const E=d("headers",r);E!==void 0&&E.forEach(F=>{f.setRequestHeader(F.name,F.value)});const M=d("sendRaw",r);r.forEach(F=>{a.updateFileStatus(F,"uploading",0),M!==!0&&v.append(d("fieldName",F),F,F.name),F.xhr=f,F.__abort=()=>{f.abort()},V+=F.size}),t("uploading",{files:r,xhr:f}),o.value.push(f),M===!0?f.send(new Blob(r)):f.send(v)}return{isUploading:u,isBusy:l,abort:y,upload:C}}var ea={name:"QUploader",props:Gt,emits:Jt,injectPlugin:Zt},ta=Xt(ea);const aa={class:"q-pa-md"},la={class:"q-gutter-md row items-start"},fe={__name:"UploadComponent",setup(e){ue();function t(a){me.create({type:"negative",message:`${a.length} file(s) did not pass validation constraints`})}return(a,o)=>(O(),re("div",aa,[S("div",la,[h(ta,{style:{"max-width":"300px"},url:"http://47.122.24.142:7766/upload",label:"\u4E0A\u4F20\u6587\u4EF6",multiple:"","auto-upload":"","max-file-size":"4096",accept:".jpg, .pdf, image/*",onRejected:t})])]))}},ra={class:"row justify-evenly"},na={class:"col-5"},oa={class:"col-5"},ua={class:"row justify-evenly"},sa={class:"col-5"},ia={class:"col-5"},da={class:"row justify-evenly"},ca={class:"col-5"},va={class:"col-5"},pa={class:"row justify-evenly"},ma={class:"col-5"},fa={class:"col-5"},_a={__name:"EnergyConsumptionForm",emits:["update:energyConsumption"],setup(e,{emit:t}){ue(),St(),localStorage.getItem("userToken"),$(!0);const a=ne({rawcoal_t:0,cleanedcoal_t:0,coke_t:0,naturalgas_104m3:0,gasoline_t:0,diesel_t:0,others_t:0}),o=$(!1),s=t;function n(){s("update:energyConsumption",a),o.value=!0}return(i,u)=>(O(),re("div",null,[S("div",ra,[S("div",na,[h(j,{modelValue:a.rawcoal_t,"onUpdate:modelValue":u[0]||(u[0]=l=>a.rawcoal_t=l),modelModifiers:{number:!0},type:"number",label:"\u539F\u7164\u2014\u5428","lazy-rules":!0,rules:[l=>l>=0||"\u503C\u4E0D\u80FD\u4E3A\u8D1F\u6570"]},null,8,["modelValue","rules"])]),S("div",oa,[h(j,{modelValue:a.cleanedcoal_t,"onUpdate:modelValue":u[1]||(u[1]=l=>a.cleanedcoal_t=l),modelModifiers:{number:!0},type:"number",label:"\u6D17\u7CBE\u7164\u2014\u5428","lazy-rules":!0,rules:[l=>l>=0||"\u503C\u4E0D\u80FD\u4E3A\u8D1F\u6570"]},null,8,["modelValue","rules"])])]),S("div",ua,[S("div",sa,[h(j,{modelValue:a.coke_t,"onUpdate:modelValue":u[2]||(u[2]=l=>a.coke_t=l),modelModifiers:{number:!0},type:"number",label:"\u7126\u70AD\u2014\u5428","lazy-rules":!0,rules:[l=>l>=0||"\u503C\u4E0D\u80FD\u4E3A\u8D1F\u6570"]},null,8,["modelValue","rules"])]),S("div",ia,[h(j,{modelValue:a.naturalgas_104m3,"onUpdate:modelValue":u[3]||(u[3]=l=>a.naturalgas_104m3=l),modelModifiers:{number:!0},type:"number",label:"\u5929\u7136\u6C14\u2014\u4E07\u7ACB\u65B9\u7C73","lazy-rules":!0,rules:[l=>l>=0||"\u503C\u4E0D\u80FD\u4E3A\u8D1F\u6570"]},null,8,["modelValue","rules"])])]),S("div",da,[S("div",ca,[h(j,{modelValue:a.gasoline_t,"onUpdate:modelValue":u[4]||(u[4]=l=>a.gasoline_t=l),modelModifiers:{number:!0},type:"number",label:"\u6C7D\u6CB9\u2014\u5428","lazy-rules":!0,rules:[l=>l>=0||"\u503C\u4E0D\u80FD\u4E3A\u8D1F\u6570"]},null,8,["modelValue","rules"])]),S("div",va,[h(j,{modelValue:a.diesel_t,"onUpdate:modelValue":u[5]||(u[5]=l=>a.diesel_t=l),modelModifiers:{number:!0},type:"number",label:"\u67F4\u6CB9\u2014\u5428","lazy-rules":!0,rules:[l=>l>=0||"\u503C\u4E0D\u80FD\u4E3A\u8D1F\u6570"]},null,8,["modelValue","rules"])])]),S("div",pa,[S("div",ma,[h(j,{modelValue:a.others_t,"onUpdate:modelValue":u[6]||(u[6]=l=>a.others_t=l),modelModifiers:{number:!0},type:"number",label:"\u751F\u4EA7\u8FC7\u7A0B\u4E2D\u7684\u5176\u4ED6\u4E8C\u6C27\u5316\u78B3\u6392\u653E\u2014\u5428","lazy-rules":!0,rules:[l=>l>=0||"\u503C\u4E0D\u80FD\u4E3A\u8D1F\u6570"]},null,8,["modelValue","rules"])]),S("div",fa,[h(j,{style:{opacity:"0","pointer-events":"none"}})])]),S("div",null,[h(fe)]),S("div",null,[h(K,{label:"\u4FDD\u5B58",color:"primary",onClick:n}),o.value?(O(),te(W,{key:0,name:"done",class:"q-ml-md"})):oe("",!0)])]))}},ga={class:"row justify-evenly"},ha={class:"col-5"},ya={class:"col-5"},ba={__name:"EnergyPurchaseForm",emits:["update:energyPurchase"],setup(e,{emit:t}){ue();const a=ne({electricity_104kwh:0,heating_GJ:0}),o=t,s=$(!1);function n(){o("update:energyPurchase",a),s.value=!0}return(i,u)=>(O(),re("div",null,[S("div",ga,[S("div",ha,[h(j,{modelValue:a.electricity_104kwh,"onUpdate:modelValue":u[0]||(u[0]=l=>a.electricity_104kwh=l),modelModifiers:{number:!0},type:"number",label:"\u8D2D\u4E70\u7535\u529B\u2014\u4E07\u5343\u74E6\u65F6","lazy-rules":!0,rules:[l=>l>=0||"\u503C\u4E0D\u80FD\u4E3A\u8D1F\u6570"]},null,8,["modelValue","rules"])]),S("div",ya,[h(j,{modelValue:a.heating_GJ,"onUpdate:modelValue":u[1]||(u[1]=l=>a.heating_GJ=l),modelModifiers:{number:!0},type:"number",label:"\u8D2D\u4E70\u70ED\u80FD\u2014\u5343\u5146\u7126\u8033","lazy-rules":!0,rules:[l=>l>=0||"\u503C\u4E0D\u80FD\u4E3A\u8D1F\u6570"]},null,8,["modelValue","rules"])])]),S("div",null,[h(fe)]),S("div",null,[h(K,{label:"\u4FDD\u5B58",color:"primary",onClick:n}),s.value?(O(),te(W,{key:0,name:"done",class:"q-ml-md"})):oe("",!0)])]))}},Sa={class:"row justify-evenly"},qa={class:"col-5"},ka={class:"col-5"},wa={class:"row justify-evenly"},xa={class:"col-5"},Ca={class:"col-5"},Fa={class:"row justify-evenly"},za={class:"col-5"},Pa={class:"col-5"},Ua={__name:"TravelCommuteForm",emits:["update:travelcommute"],setup(e,{emit:t}){ue();const a=ne({plane_kyuan:0,CRH_kyuan:0,train_kyuan:0,urbantransport_kyuan:0,selfdriving_per:0,publictransport_per:0}),o=t,s=$(!1);function n(){o("update:travelcommute",a),s.value=!0}return(i,u)=>(O(),re("div",null,[S("div",Sa,[S("div",qa,[h(j,{modelValue:a.plane_kyuan,"onUpdate:modelValue":u[0]||(u[0]=l=>a.plane_kyuan=l),modelModifiers:{number:!0},type:"number",label:"\u5DEE\u65C5\u673A\u7968\u8D39\u2014\u5343\u5143","lazy-rules":!0,rules:[l=>l>=0||"\u503C\u4E0D\u80FD\u4E3A\u8D1F\u6570"]},null,8,["modelValue","rules"])]),S("div",ka,[h(j,{modelValue:a.CRH_kyuan,"onUpdate:modelValue":u[1]||(u[1]=l=>a.CRH_kyuan=l),modelModifiers:{number:!0},type:"number",label:"\u5DEE\u65C5\u9AD8\u94C1\u8D39\u2014\u5343\u5143","lazy-rules":!0,rules:[l=>l>=0||"\u503C\u4E0D\u80FD\u4E3A\u8D1F\u6570"]},null,8,["modelValue","rules"])])]),S("div",wa,[S("div",xa,[h(j,{modelValue:a.train_kyuan,"onUpdate:modelValue":u[2]||(u[2]=l=>a.train_kyuan=l),modelModifiers:{number:!0},type:"number",label:"\u5DEE\u65C5\u706B\u8F66\u8D39\u2014\u5343\u5143","lazy-rules":!0,rules:[l=>l>=0||"\u503C\u4E0D\u80FD\u4E3A\u8D1F\u6570"]},null,8,["modelValue","rules"])]),S("div",Ca,[h(j,{modelValue:a.urbantransport_kyuan,"onUpdate:modelValue":u[3]||(u[3]=l=>a.urbantransport_kyuan=l),modelModifiers:{number:!0},type:"number",label:"\u5E02\u5185\u4EA4\u901A\u8D39\u2014\u5343\u5143","lazy-rules":!0,rules:[l=>l>=0||"\u503C\u4E0D\u80FD\u4E3A\u8D1F\u6570"]},null,8,["modelValue","rules"])])]),S("div",Fa,[S("div",za,[h(j,{modelValue:a.selfdriving_per,"onUpdate:modelValue":u[4]||(u[4]=l=>a.selfdriving_per=l),modelModifiers:{number:!0},type:"number",label:"\u65E5\u5E38\u901A\u52E4\u9009\u62E9\u81EA\u9A7E\u7684\u5458\u5DE5\u6570\u2014\u4EBA","lazy-rules":!0,rules:[l=>l>=0||"\u503C\u4E0D\u80FD\u4E3A\u8D1F\u6570"]},null,8,["modelValue","rules"])]),S("div",Pa,[h(j,{modelValue:a.publictransport_per,"onUpdate:modelValue":u[5]||(u[5]=l=>a.publictransport_per=l),modelModifiers:{number:!0},type:"number",label:"\u65E5\u5E38\u901A\u52E4\u9009\u62E9\u516C\u5171\u4EA4\u901A\u7684\u5458\u5DE5\u6570\u2014\u4EBA","lazy-rules":!0,rules:[l=>l>=0||"\u503C\u4E0D\u80FD\u4E3A\u8D1F\u6570"]},null,8,["modelValue","rules"])])]),S("div",null,[h(fe)]),S("div",null,[h(K,{label:"\u4FDD\u5B58",color:"primary",onClick:n}),s.value?(O(),te(W,{key:0,name:"done",class:"q-ml-md"})):oe("",!0)])]))}},Va={class:"row justify-evenly"},$a={class:"col-5"},Ea={class:"col-5"},Ba={class:"row justify-evenly"},ja={class:"col-5"},Ta={class:"col-5"},Aa={__name:"OffsetEmissionForm",emits:["update:offsetEmission"],setup(e,{emit:t}){ue();const a=ne({green_electricity_104kwh:0,otheroffset_t:0,output_wyuan:0}),o=t,s=$(!1);function n(){o("update:offsetEmission",a),s.value=!0}return(i,u)=>(O(),re("div",null,[S("div",Va,[S("div",$a,[h(j,{modelValue:a.green_electricity_104kwh,"onUpdate:modelValue":u[0]||(u[0]=l=>a.green_electricity_104kwh=l),modelModifiers:{number:!0},type:"number",label:"\u8D2D\u4E70\u7EFF\u8272\u7535\u529B-\u4E07\u5343\u74E6\u65F6","lazy-rules":!0,rules:[l=>l>=0||"\u503C\u4E0D\u80FD\u4E3A\u8D1F\u6570"]},null,8,["modelValue","rules"])]),S("div",Ea,[h(j,{modelValue:a.otheroffset_t,"onUpdate:modelValue":u[1]||(u[1]=l=>a.otheroffset_t=l),modelModifiers:{number:!0},type:"number",label:"\u5176\u4ED6\u78B3\u6392\u653E\u62B5\u6D88-\u5428","lazy-rules":!0,rules:[l=>l>=0||"\u503C\u4E0D\u80FD\u4E3A\u8D1F\u6570"]},null,8,["modelValue","rules"])])]),S("div",Ba,[S("div",ja,[h(j,{modelValue:a.output_wyuan,"onUpdate:modelValue":u[2]||(u[2]=l=>a.output_wyuan=l),modelModifiers:{number:!0},type:"number",label:"\u6708\u4EA7\u503C\u2014\u4E07\u5143","lazy-rules":!0,rules:[l=>l>=0||"\u503C\u4E0D\u80FD\u4E3A\u8D1F\u6570"]},null,8,["modelValue","rules"])]),S("div",Ta,[h(j,{style:{opacity:"0","pointer-events":"none"}})])]),S("div",null,[h(fe)]),S("div",null,[h(K,{label:"\u4FDD\u5B58",color:"primary",onClick:n}),s.value?(O(),te(W,{key:0,name:"done",class:"q-ml-md"})):oe("",!0)])]))}},Da={class:"row justify-evenly q-my-md"},Na={class:"row justify-evenly items-center"},Ia=S("div",{class:"text-h4 q-my-md"},"\u586B\u5199\u6392\u653E\u4FE1\u606F",-1),Ra={class:"col-6 row q-my-md justify-evenly items-center"},La={class:"row justify-center"},Ma={class:"row justify-evenly q-my-md"},al={__name:"FormPage",setup(e){const t=$(1),a=localStorage.getItem("userToken"),o=ne({year:null,month:null}),s=[...Array(new Date().getFullYear()-1999).keys()].map(c=>2e3+c),n=Array.from({length:12},(c,g)=>g+1),i=$({form_1:!1,form_2:!1,form_3:!1,form_4:!1}),u=new FormData,l=new FormData,x=new FormData,y=new FormData,C=b(()=>t.value===1?i.value.form_1:t.value===2?i.value.form_2:t.value===3?i.value.form_3:t.value===4?i.value.form_4:!1);function k(c){i.value.form_1=!0,Object.keys(c).forEach(g=>{u.append(g,c[g])})}function w(c){i.value.form_2=!0,Object.keys(c).forEach(g=>{l.append(g,c[g])})}function r(c){i.value.form_3=!0,Object.keys(c).forEach(g=>{x.append(g,c[g])})}function m(c){i.value.form_4=!0,Object.keys(c).forEach(g=>{y.append(g,c[g])})}const v=$({form_1:!1,form_2:!1,form_3:!1,form_4:!1});function f(){u.append("year",o.year),u.append("month",o.month),de.post("http://47.122.24.142:7766/api/scope1",u,{headers:{Authorization:`Bearer ${a}`}}).then(c=>{c.status===201?(v.value.form_1=!0,console.log(c.data)):console.error("Error fetching data:",c.status)}).catch(c=>{console.error("Error fetching data:",c)})}function d(){l.append("year",o.year),l.append("month",o.month),de.post("http://47.122.24.142:7766/api/scope2",l,{headers:{Authorization:`Bearer ${a}`}}).then(c=>{c.status===201?(v.value.form_2=!0,console.log(c.data)):console.error("Error fetching data:",c.status)}).catch(c=>{console.error("Error fetching data:",c)})}function B(){x.append("year",o.year),x.append("month",o.month),de.post("http://47.122.24.142:7766/api/scope3",x,{headers:{Authorization:`Bearer ${a}`}}).then(c=>{c.status===201?(v.value.form_3=!0,console.log(c.data)):console.error("Error fetching data:",c.status)}).catch(c=>{console.error("Error fetching data:",c)})}function I(){y.append("year",o.year),y.append("month",o.month),de.post("http://47.122.24.142:7766/api/offset",y,{headers:{Authorization:`Bearer ${a}`}}).then(c=>{c.status===201?(v.value.form_4=!0,console.log(c.data)):console.error("Error fetching data:",c.status)}).catch(c=>{console.error("Error fetching data:",c)})}function L(){if(a===null){me.create({color:"negative",position:"top",message:"\u8BF7\u5148\u767B\u5F55",icon:"report_problem"});return}if(o.year===null||o.month===null){me.create({color:"negative",position:"top",message:"\u5FC5\u987B\u586B\u5199\u5E74\u4EFD\u548C\u6708\u4EFD",icon:"report_problem"});return}console.log(o.year,o.month),u.append("year",o.year),u.append("month",o.month),console.log(u),f(),d(),B(),I(),v.value.form_1&&v.value.form_2&&v.value.form_3&&v.value.form_4&&me.create({color:"green-4",textColor:"white",icon:"cloud_done",message:"\u5F55\u5165\u6210\u529F"})}return(c,g)=>(O(),te(wt,{padding:""},{default:N(()=>[S("div",Da,[h(xt,{class:"col-8"},{default:N(()=>[S("div",Na,[Ia,S("div",Ra,[h(Ee,{outlined:"",modelValue:o.year,"onUpdate:modelValue":g[0]||(g[0]=V=>o.year=V),options:Ve(s),label:"\u5E74\u4EFD",type:"number",class:"col-5",rules:[V=>V!==null||"\u8BF7\u9009\u62E9\u5E74\u4EFD"],padding:""},{prepend:N(()=>[h(W,{name:"event"})]),_:1},8,["modelValue","options","rules"]),h(Ee,{outlined:"",modelValue:o.month,"onUpdate:modelValue":g[1]||(g[1]=V=>o.month=V),options:Ve(n),label:"\u6708\u4EFD",type:"number",class:"col-5",rules:[V=>V!==null||"\u8BF7\u9009\u62E9\u6708\u4EFD"],padding:""},{prepend:N(()=>[h(W,{name:"event"})]),_:1},8,["modelValue","options","rules"])])])]),_:1})]),S("div",La,[h(Dt,{modelValue:t.value,"onUpdate:modelValue":g[4]||(g[4]=V=>t.value=V),animated:"",class:"col-8"},{navigation:N(()=>[h(jt,null,{default:N(()=>[h(K,{flat:"",label:"\u4E0A\u4E00\u6B65",onClick:g[2]||(g[2]=V=>t.value--),disable:t.value===1},null,8,["disable"]),h(K,{color:"primary",label:"\u4E0B\u4E00\u6B65",onClick:g[3]||(g[3]=V=>t.value++),disable:t.value===4||!C.value},null,8,["disable"])]),_:1})]),default:N(()=>[h(ve,{name:1,label:"\u80FD\u6E90\u6D88\u8017",title:"\u80FD\u6E90\u6D88\u8017"},{default:N(()=>[h(ce,{class:"q-gutter-md"},{default:N(()=>[h(_a,{"onUpdate:energyConsumption":k})]),_:1})]),_:1}),h(ve,{name:2,label:"\u80FD\u6E90\u8D2D\u4E70",title:"\u80FD\u6E90\u8D2D\u4E70"},{default:N(()=>[h(ce,{class:"q-gutter-md"},{default:N(()=>[h(ba,{"onUpdate:energyPurchase":w})]),_:1})]),_:1}),h(ve,{name:3,label:"\u5DEE\u65C5\u4E0E\u901A\u52E4",title:"\u5DEE\u65C5\u4E0E\u901A\u52E4"},{default:N(()=>[h(ce,{class:"q-gutter-md"},{default:N(()=>[h(Ua,{"onUpdate:travelcommute":r})]),_:1})]),_:1}),h(ve,{name:4,label:"\u62B5\u6D88\u6392\u653E",title:"\u62B5\u6D88\u6392\u653E"},{default:N(()=>[h(ce,{class:"q-gutter-md"},{default:N(()=>[h(Aa,{"onUpdate:offsetEmission":m})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),S("div",Ma,[t.value===4?(O(),te(K,{key:0,color:"primary",label:"\u63D0\u4EA4",onClick:L,class:"q-mt-md col-8",disable:!C.value},null,8,["disable"])):oe("",!0)])]),_:1}))}};export{al as default};
