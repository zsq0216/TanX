import{a9 as b,aa as C,ab as h,t as A,h as l,ac as f,U as x,V as k,ad as q}from"./index.72b74f6b.js";import{p as d}from"./prevent-scroll.e5f540d1.js";let a,u,g=0,o=null,n={},r={};const m={group:"__default_quasar_group__",delay:0,message:!1,html:!1,spinnerSize:80,spinnerColor:"",messageColor:"",backgroundColor:"",boxClass:"",spinner:k,customClass:""},p={...m};function j(e){if(e&&e.group!==void 0&&r[e.group]!==void 0)return Object.assign(r[e.group],e);const i=f(e)===!0&&e.ignoreDefaults===!0?{...m,...e}:{...p,...e};return r[i.group]=i,i}const t=b({isActive:!1},{show(e){n=j(e);const{group:i}=n;return t.isActive=!0,a!==void 0?(n.uid=g,u.$forceUpdate()):(n.uid=++g,o!==null&&clearTimeout(o),o=setTimeout(()=>{o=null;const s=C("q-loading");a=h({name:"QLoading",setup(){A(()=>{d(!0)});function v(){t.isActive!==!0&&a!==void 0&&(d(!1),a.unmount(s),q(s),a=void 0,u=void 0)}function _(){if(t.isActive!==!0)return null;const c=[l(n.spinner,{class:"q-loading__spinner",color:n.spinnerColor,size:n.spinnerSize})];return n.message&&c.push(l("div",{class:"q-loading__message"+(n.messageColor?` text-${n.messageColor}`:""),[n.html===!0?"innerHTML":"textContent"]:n.message})),l("div",{class:"q-loading fullscreen flex flex-center z-max "+n.customClass.trim(),key:n.uid},[l("div",{class:"q-loading__backdrop"+(n.backgroundColor?` bg-${n.backgroundColor}`:"")}),l("div",{class:"q-loading__box column items-center "+n.boxClass},c)])}return()=>l(x,{name:"q-transition--fade",appear:!0,onAfterLeave:v},_)}},t.__parentApp),u=a.mount(s)},n.delay)),s=>{if(s===void 0||Object(s)!==s){t.hide(i);return}t.show({...s,group:i})}},hide(e){if(t.isActive===!0){if(e===void 0)r={};else{if(r[e]===void 0)return;{delete r[e];const i=Object.keys(r);if(i.length!==0){const s=i[i.length-1];t.show({group:s});return}}}o!==null&&(clearTimeout(o),o=null),t.isActive=!1}},setDefaults(e){f(e)===!0&&Object.assign(p,e)},install({$q:e,parentApp:i}){e.loading=this,t.__parentApp=i,e.config.loading!==void 0&&this.setDefaults(e.config.loading)}});export{t as P};
